{% extends "base.html" %}
{% block title %}All Courses{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4">
            <h2 class="fw-bold text-primary mb-3">🌍 All Courses</h2>

            <ul class="list-group">
                {% for course in courses %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <!-- Course Title with link -->
                        <a href="{% url 'courses:detail' course.id %}" class="fw-bold text-decoration-none text-dark">
                            {{ course.title }}
                        </a>

                        <!-- Actions -->
                        <div class="btn-group">
                            {% if course.id in enrolled_ids %}
                                <a href="{% url 'courses:unenroll' course.id %}" class="btn btn-sm btn-outline-danger">❌ Unenroll</a>
                            {% else %}
                                <a href="{% url 'courses:enroll' course.id %}" class="btn btn-sm btn-success">✅ Enroll</a>
                            {% endif %}

                            {% if course.id in favorite_ids %}
                                <a href="{% url 'courses:unfavorite' course.id %}" class="btn btn-sm btn-outline-warning">💔 Unfavorite</a>
                            {% else %}
                                <a href="{% url 'courses:favorite' course.id %}" class="btn btn-sm btn-warning">⭐ Favorite</a>
                            {% endif %}
                        </div>
                    </li>
                {% empty %}
                    <li class="list-group-item"><em>No courses available yet.</em></li>
                {% endfor %}
            </ul>

            <div class="mt-3">
                <a href="{% url 'accounts:dashboard' %}" class="btn btn-secondary">⬅ Back to Dashboard</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
